(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const m=document.getElementById("menu-toggle"),v=document.getElementById("menu-close"),l=document.getElementById("mobile-menu"),y=document.querySelectorAll(".mobile-nav-link");function d(){l.classList.remove("is-open"),document.body.style.overflow=""}function h(){window.innerWidth>=1280&&l.classList.remove("is-open")}window.addEventListener("resize",h);m.addEventListener("click",()=>{l.classList.add("is-open"),document.body.style.overflow="hidden"});v.addEventListener("click",d);y.forEach(t=>{t.addEventListener("click",d)});document.addEventListener("click",t=>{l.classList.contains("is-open")&&!l.contains(t.target)&&!m.contains(t.target)&&d()});const L=document.querySelectorAll("main section[id]"),p=document.querySelectorAll(".nav-link");window.addEventListener("scroll",()=>{let t="";const n=document.getElementById("hero");window.pageYOffset<n.offsetTop+n.offsetHeight-window.innerHeight/3?t="hero":L.forEach(o=>{const e=o.offsetTop-window.innerHeight/3;window.pageYOffset>=e&&(t=o.getAttribute("id"))}),document.getElementById("footer"),window.innerHeight+window.pageYOffset>=document.body.offsetHeight-50&&(t="footer"),p.forEach(o=>{o.classList.remove("active");const c=o.getAttribute("href").substring(1);c===t&&c!=="footer"&&!o.classList.contains("mobile-nav-link")&&!o.closest(".footer-nav-list")&&o.classList.add("active")})});document.querySelectorAll(".nav-link").forEach(t=>{t.addEventListener("click",function(n){n.preventDefault();const o=this.getAttribute("href").substring(1),c=document.getElementById(o);c&&c.scrollIntoView({behavior:"smooth",block:"start"})})});const E=document.querySelector(".logo");E.addEventListener("click",t=>{window.location.href="/index.html",document.querySelectorAll(".desktop-nav-list .nav-link").forEach(o=>o.classList.remove("active")),console.log("Logo clicked, menu state updated.")});const a=document.getElementById("show-more-catalog"),w=document.getElementById("catalog-list"),S=w.querySelectorAll(".catalog-list-item");a&&a.addEventListener("click",()=>{S.forEach(t=>{t.classList.add("show-more-visible")}),a.style.display="none"});document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".sale-list"),n=document.getElementById("main-picture"),o=n==null?void 0:n.querySelector(".sale-main-img"),c=document.querySelectorAll(".sale-list-item");if(!t||!n||!o){console.error("Не удалось найти необходимые элементы галереи: saleList, main-picture или sale-main-img.");return}t.addEventListener("click",function(e){const s=e.target.closest(".sale-list-item");if(!s)return;const i=s.querySelector(".sale-img");if(!i||!i.dataset.largeSrc){console.warn("Кликнутое изображение миниатюры не найдено или отсутствует data-large-src.");return}const u=i.dataset.largeSrc,f=i.dataset.largeSrcset||u;let g=[];try{g=JSON.parse(i.dataset.sources||"[]")}catch(r){console.error("Ошибка парсинга JSON из data-sources:",r)}o.src=u,o.srcset=f,n.querySelectorAll("source").forEach(r=>r.remove()),c.forEach(r=>r.classList.remove("active")),s.classList.add("active")})});
//# sourceMappingURL=index.js.map
